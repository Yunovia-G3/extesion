<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Job Application Tracker</title>
  <link rel="stylesheet" href="sidepanel.css">
  <style>
    .sync-offline { background-color: #fef3c7; color: #92400e; }
    .sync-online { background-color: #d1fae5; color: #065f46; }
    .sync-error { background-color: #fee2e2; color: #b91c1c; }
    .auth-page { display: none; }
    .app-content { display: none; }
  </style>
</head>
<body class="body-container">
  <!-- Authentication Pages -->
  <div id="authContainer">
    <!-- Login Page -->
   <div id="loginPage" class="auth-page card">
  <h1 class="title">Login</h1>
  <form id="loginForm" class="form">
    <div class="input-group">
      <input type="email" id="loginEmail" class="input floating-input" placeholder=" " required>
      <label for="loginEmail" class="floating-label">Email</label>
    </div>
    <div class="input-group">
      <input type="password" id="loginPassword" class="input floating-input" placeholder=" " required>
      <label for="loginPassword" class="floating-label">Password</label>
    </div>
    <button type="submit" class="btn-primary">Sign In</button>
    <p class="text-center">
      Don't have an account?
      <a href="#" id="showSignUp" class="link">Sign up</a>
    </p>
  </form>
</div>

    <!-- Sign Up Page -->
   <div id="signupPage" class="auth-page card">
  <h1 class="title">Create Account</h1>
  <form id="signupForm" class="form">
    <div class="input-group">
      <input type="email" id="signupEmail" class="floating-input" placeholder=" " required>
      <label for="signupEmail" class="floating-label">Email</label>
    </div>
    <div class="input-group">
      <input type="password" id="signupPassword" class="floating-input" placeholder=" " required minlength="6">
      <label for="signupPassword" class="floating-label">Password (min 6 characters)</label>
    </div>
    <button type="submit" class="btn-primary">Create Account</button>
    <p class="text-center">
      Already have an account?
      <a href="#" id="showLogin" class="link">Sign in</a>
    </p>
  </form>
</div>

  </div>

  <!-- Main App Content -->
  <div id="appContent" class="app-content">
    <div class="top-nav">

    <div id="syncStatus" class="text-xs mt-2 p-2 rounded hidden">
      <span id="syncStatusText"></span>
    </div>

    
      <button id="logoutBtn" class="link">Logout</button>
    
    </div>
    
    <!-- Navigation -->
    <nav class="nav-tabs">
      <button id="jobTab" class="tab active-tab">Job Details</button>
      <button id="followUpTab" class="tab">Follow Up</button>
    </nav>

    <!-- Profile Section inserted via JS -->

    <!-- Job Form Section -->
    <section id="jobSection">
  <form id="jobForm" class="card form">
    <!-- Company -->
    <div class="input-group">
      <input type="text" id="company" class="floating-input" placeholder=" " required>
      <label for="company" class="floating-label">Company Name</label>
    </div>

    <!-- Job Role -->
    <div class="input-group">
      <input type="text" id="role" class="floating-input" placeholder=" " required>
      <label for="role" class="floating-label">Job Role</label>
    </div>

    <!-- Application Date -->
  <div class="input-group">
  <input type="date" id="date" class="floating-input" placeholder=" " required>
  <label for="date" class="floating-label">Application Date</label>
</div>

    <!-- Resume Upload -->
    <div class="file-drop-area" id="fileDropArea">
      <p>Drag & drop your resume here or <span class="browse-text">browse</span></p>
      <input type="file" id="resumeUpload" accept=".pdf" class="file-input">
     <div id="fileNameDisplay" class="file-name-display"></div>
    </div>

    <!-- Checkboxes -->
     <div class="checkbox">
    <div class="checkbox-group">
  <label for="feedback">Feedback?</label>
  <input type="checkbox" id="feedback">
</div>
<div class="checkbox-group">
  <label for="interviewed">Interviewed?</label>
  <input type="checkbox" id="interviewed">
</div>
<div class="checkbox-group">
  <label for="offer">Offer?</label>
  <input type="checkbox" id="offer">
</div>
<div class="checkbox-group">
  <label for="gotJob">Got Job?</label>
  <input type="checkbox" id="gotJob">
</div>
</div>


<div class="slider-group">
  <label for="expectationSlider">Application Expectation: <span id="expectationValue">3</span></label>
  <input type="range" id="expectationSlider" min="1" max="5" value="3" step="1">
</div>


    <!-- Mood Select -->
    <div class="input-group">
      <select id="mood" class="floating-input" required>
        <option value="" disabled selected hidden></option>
        <option value="happy">üòä Happy</option>
        <option value="sad">üò¢ Sad</option>
        <option value="angry">üò† Angry</option>
        <option value="neutral" selected>üòê Neutral</option>
      </select>
      <label for="mood" class="floating-label">Mood</label>
    </div>

    <button type="submit" class="btn-primary">Submit</button>
  </form>
</section>


    <!-- Follow Up Section -->
    <section id="followUpSection" class="hidden">
      <div class="table-container">
        <table class="table">
          <thead>
            <tr>
              <th>Company</th>
              <th>Role</th>
              <th>Date</th>
              <th>Interviewed</th>
              <th>Offer</th>
              <th>Got Job</th>
              <th>Mood</th>
              <th>Feedback</th>
              <th>Follow Ups</th>
            </tr>
          </thead>
          <tbody id="jobsTableBody"></tbody>
        </table>
      </div>
    </section>

    

    <div class="chart-section" id="chartSection">
      <h2 class="chart-title">Applications per Day</h2>
      <canvas id="jobsPerDayChart" height="80"></canvas>
    </div>

    
  </div>

  <script src="./pdfjs/pdf.min.js"></script>
  <script src="./lib/chart.min.js"></script>
  <script src="./lib/supabase.min.js"></script>
  <script src="sidepanel.js"></script>
</body>
</html>
